
<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Meetings 2025/29</title>
<style>
body {
  font-family: sans-serif;
  text-align: center;
  padding: 30px;
  margin: 0;
}
#countdown-area {
  display: none;
}
.timer {
  font-size: 12vw;
  margin-bottom: 10px;
  width: 100%;
}
.frase {
  font-size: 2vw;
  margin-bottom: 15px;
}
button {
  font-size: 1.2vw;
  margin: 5px;
  padding: 10px 20px;
  cursor: pointer;
}
</style>
</head>
<body>
<div id="lista-frases">
<h2>Ocorr√™ncias de Frases com Minutos (2025/29)</h2>

<div>
  <p><strong>Frase:</strong> Coment√°rios iniciais</p>
  <p><strong>Minutos:</strong> 1</p>
  <button onclick="startTimer(60, 'Coment√°rios iniciais')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 1. Princ√≠pios s√°bios para criar os seus filhos</p>
  <p><strong>Minutos:</strong> 10</p>
  <button onclick="startTimer(600, '1. Princ√≠pios s√°bios para criar os seus filhos')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 2. P√©rolas espirituais</p>
  <p><strong>Minutos:</strong> 10</p>
  <button onclick="startTimer(600, '2. P√©rolas espirituais')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 3. Leitura da B√≠blia</p>
  <p><strong>Minutos:</strong> 4</p>
  <button onclick="startTimer(240, '3. Leitura da B√≠blia')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 4. Iniciar conversas</p>
  <p><strong>Minutos:</strong> 3</p>
  <button onclick="startTimer(180, '4. Iniciar conversas')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 5. Iniciar conversas</p>
  <p><strong>Minutos:</strong> 4</p>
  <button onclick="startTimer(240, '5. Iniciar conversas')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 6. Discurso</p>
  <p><strong>Minutos:</strong> 5</p>
  <button onclick="startTimer(300, '6. Discurso')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 7. Seja paciente, mas n√£o permissivo</p>
  <p><strong>Minutos:</strong> 15</p>
  <button onclick="startTimer(900, '7. Seja paciente, mas n√£o permissivo')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> 8. Estudo b√≠blico de congrega√ß√£o</p>
  <p><strong>Minutos:</strong> 30</p>
  <button onclick="startTimer(1800, '8. Estudo b√≠blico de congrega√ß√£o')">‚ñ∂ Play</button>
</div><hr>

<div>
  <p><strong>Frase:</strong> Coment√°rios finais</p>
  <p><strong>Minutos:</strong> 3</p>
  <button onclick="startTimer(180, 'Coment√°rios finais')">‚ñ∂ Play</button>
</div><hr>

</div>
<div id="countdown-area">
  <div id="timer" class="timer">00:00</div>
  <div id="frase" class="frase"></div>
  <button onclick="adjustTimer(60)">‚ûï +1 min</button>
  <button onclick="adjustTimer(-60)">‚ûñ -1 min</button>
  <button id="pause-btn" onclick="pauseTimer()">‚è∏ Pause</button>
  <button onclick="stopTimer()">‚èπ Stop</button>
</div>

<script type="module">
// ‚úÖ Firebase SDK
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBj9bBZHrvGwUtepL2N7Io-cuvV-uP6oUo",
  authDomain: "reunioes-timer.firebaseapp.com",
  databaseURL: "https://reunioes-timer-default-rtdb.firebaseio.com",
  projectId: "reunioes-timer",
  storageBucket: "reunioes-timer.firebasestorage.app",
  messagingSenderId: "492226419363",
  appId: "1:492226419363:web:2fdc199ac7b2d583937d16"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// üï∞Ô∏è Cron√≥metro local + sincroniza√ß√£o
let timerInterval;
let currentTime;
let isPaused = false;

function syncToFirebase() {
  const frase = document.getElementById("frase").textContent;
  set(ref(db, "cronometro"), {
    tempo: currentTime,
    frase: frase,
    pausado: isPaused
  });
}

function startTimer(seconds, frase) {
  clearInterval(timerInterval);
  currentTime = seconds;
  isPaused = false;
  document.getElementById("lista-frases").style.display = "none";
  document.getElementById("countdown-area").style.display = "block";
  document.getElementById("frase").textContent = frase;
  document.getElementById("pause-btn").textContent = "‚è∏ Pause";
  updateTimerDisplay();
  syncToFirebase();

  timerInterval = setInterval(() => {
    if (!isPaused) {
      currentTime--;
      updateTimerDisplay();
      syncToFirebase();
    }
  }, 1000);
}

function pauseTimer() {
  isPaused = !isPaused;
  document.getElementById("pause-btn").textContent = isPaused ? "‚ñ∂ Play" : "‚è∏ Pause";
  syncToFirebase();
}

function stopTimer() {
  clearInterval(timerInterval);
  currentTime = 0;
  isPaused = false;
  updateTimerDisplay();
  document.getElementById("countdown-area").style.display = "none";
  document.getElementById("lista-frases").style.display = "block";
  syncToFirebase();
}

function adjustTimer(seconds) {
  currentTime += seconds;
  updateTimerDisplay();
  syncToFirebase();
}

function updateTimerDisplay() {
  let mins = Math.floor(Math.abs(currentTime) / 60);
  let secs = Math.abs(currentTime) % 60;
  let timer = document.getElementById("timer");
  timer.textContent = (currentTime < 0 ? "-" : "") +
    `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
  timer.style.color = currentTime < 0 ? "red" : (currentTime <= 30 ? "orange" : "black");
}
</script>
</body>
</html>
